<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox alignment="CENTER" spacing="20.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.bdsqltester.scenes.admin.CentralAdminController">
   <padding>
      <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
   </padding>
   
   <Label text="Admin Pusat Dashboard" style="-fx-font-size: 24px; -fx-font-weight: bold;" />
   
   <TabPane prefHeight="600.0" prefWidth="1000.0">
      <Tab text="Performa Cabang" closable="false">
         <VBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Label text="Periode:" />
               <DatePicker fx:id="performanceStartDate" promptText="Tanggal Mulai" />
               <Label text="s/d" />
               <DatePicker fx:id="performanceEndDate" promptText="Tanggal Akhir" />
               <Button text="Analisis Performa" onAction="#onAnalyzeBranchPerformance" />
               <Button text="Refresh Data" onAction="#onRefreshPerformance" />
            </HBox>
            
            <TableView fx:id="performanceTable" VBox.vgrow="ALWAYS">
               <columns>
                  <TableColumn fx:id="colBranchName" text="Nama Cabang" prefWidth="150" />
                  <TableColumn fx:id="colTotalOrders" text="Total Pesanan" prefWidth="120" />
                  <TableColumn fx:id="colTotalRevenue" text="Total Pendapatan" prefWidth="150" />
                  <TableColumn fx:id="colAvgOrderValue" text="Rata-rata Pesanan" prefWidth="150" />
                  <TableColumn fx:id="colPerformanceScore" text="Skor Performa" prefWidth="120" />
                  <TableColumn fx:id="colGrowthRate" text="Pertumbuhan (%)" prefWidth="120" />
                  <TableColumn fx:id="colStatus" text="Status" prefWidth="100" />
               </columns>
            </TableView>
            
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Button text="Detail Performa" onAction="#onViewPerformanceDetail" />
               <Button text="Export Laporan" onAction="#onExportPerformanceReport" />
               <Button text="Grafik Performa" onAction="#onShowPerformanceChart" />
            </HBox>
         </VBox>
      </Tab>
      
      <Tab text="Manajemen Promosi" closable="false">
         <VBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Label text="Jenis Promosi:" />
               <ComboBox fx:id="promotionType" prefWidth="150" />
               <Label text="Cabang:" />
               <ComboBox fx:id="promotionBranch" prefWidth="150" />
               <Button text="Tambah Promosi" onAction="#onAddPromotion" />
               <Button text="Refresh Promosi" onAction="#onRefreshPromotions" />
            </HBox>
            
            <TableView fx:id="promotionTable" VBox.vgrow="ALWAYS">
               <columns>
                  <TableColumn fx:id="colPromotionId" text="ID Promosi" prefWidth="100" />
                  <TableColumn fx:id="colPromotionName" text="Nama Promosi" prefWidth="200" />
                  <TableColumn fx:id="colPromotionType" text="Jenis" prefWidth="120" />
                  <TableColumn fx:id="colDiscountPercent" text="Diskon (%)" prefWidth="100" />
                  <TableColumn fx:id="colMinPurchase" text="Min. Pembelian" prefWidth="150" />
                  <TableColumn fx:id="colStartDate" text="Tanggal Mulai" prefWidth="120" />
                  <TableColumn fx:id="colEndDate" text="Tanggal Berakhir" prefWidth="120" />
                  <TableColumn fx:id="colStatus" text="Status" prefWidth="100" />
               </columns>
            </TableView>
            
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Button text="Edit Promosi" onAction="#onEditPromotion" />
               <Button text="Hapus Promosi" onAction="#onDeletePromotion" />
               <Button text="Aktifkan/Nonaktifkan" onAction="#onTogglePromotion" />
            </HBox>
         </VBox>
      </Tab>
      
      <Tab text="Manajemen Cabang" closable="false">
         <VBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Button text="Tambah Cabang" onAction="#onAddBranch" />
               <Button text="Refresh Data" onAction="#onRefreshBranches" />
            </HBox>
            
            <TableView fx:id="branchTable" VBox.vgrow="ALWAYS">
               <columns>
                  <TableColumn fx:id="colBranchId" text="ID Cabang" prefWidth="100" />
                  <TableColumn fx:id="colBranchLocation" text="Lokasi" prefWidth="200" />
                  <TableColumn fx:id="colBranchPerformance" text="Performa" prefWidth="100" />
                  <TableColumn fx:id="colBranchIncome" text="Income" prefWidth="150" />
                  <TableColumn fx:id="colBranchStaff" text="Jumlah Staff" prefWidth="120" />
               </columns>
            </TableView>
            
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Button text="Edit Cabang" onAction="#onEditBranch" />
               <Button text="Hapus Cabang" onAction="#onDeleteBranch" />
               <Button text="Lihat Detail" onAction="#onViewBranchDetail" />
            </HBox>
         </VBox>
      </Tab>
      
      <Tab text="Manajemen Staff" closable="false">
         <VBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Label text="Cabang:" />
               <ComboBox fx:id="staffBranchFilter" prefWidth="200" />
               <Button text="Tambah Staff" onAction="#onAddStaff" />
               <Button text="Refresh Staff" onAction="#onRefreshStaff" />
            </HBox>
            
            <TableView fx:id="staffTable" VBox.vgrow="ALWAYS">
               <columns>
                  <TableColumn fx:id="colStaffId" text="ID Staff" prefWidth="80" />
                  <TableColumn fx:id="colStaffName" text="Nama" prefWidth="200" />
                  <TableColumn fx:id="colStaffJob" text="Job Description" prefWidth="150" />
                  <TableColumn fx:id="colStaffBranch" text="Cabang" prefWidth="150" />
               </columns>
            </TableView>
            
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Button text="Edit Staff" onAction="#onEditStaff" />
               <Button text="Hapus Staff" onAction="#onDeleteStaff" />
            </HBox>
         </VBox>
      </Tab>
      
      <Tab text="Laporan Keseluruhan" closable="false">
         <VBox spacing="10">
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Label text="Periode:" />
               <DatePicker fx:id="reportStartDate" promptText="Tanggal Mulai" />
               <Label text="s/d" />
               <DatePicker fx:id="reportEndDate" promptText="Tanggal Akhir" />
               <ComboBox fx:id="reportType" prefWidth="150" />
               <Button text="Generate Laporan" onAction="#onGenerateOverallReport" />
            </HBox>
            
            <TextArea fx:id="overallReportArea" prefHeight="400" editable="false" />
            
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Button text="Export PDF" onAction="#onExportOverallPDF" />
               <Button text="Export Excel" onAction="#onExportOverallExcel" />
               <Button text="Kirim Email" onAction="#onSendEmailReport" />
            </HBox>
         </VBox>
      </Tab>
   </TabPane>
   
   <HBox spacing="10" alignment="CENTER">
      <Button text="Logout" onAction="#onLogout" style="-fx-background-color: #ff4444; -fx-text-fill: white;" />
   </HBox>
</VBox> 